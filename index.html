<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="js/draggable.js"></script>
    <script src="js/fullscreen.js"></script>
</head>





<style>
html, body {
    background-image: url('media/default_bg.jpg');
    background-repeat: no-repeat;
    background-size: 100%, auto;
    overflow: hidden;
    margin: 0px;
    height: 100%;
    z-index: 1;
    font-family: Verdana, Geneva, Tahoma, sans-serif;
}
#drag-1, #drag-2{
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    touch-action: none;
    position: absolute;
    width: 88px;
    min-height: 104px;
    background-color: #29e;
    color: white;
    border-radius: 5px;
    padding: 4%;
    box-sizing: border-box;
    -webkit-transform: translate(0px, 0px);
            transform: translate(0px, 0px);
}
#drag-3 {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    touch-action: none;
    position: absolute;
    width: 88px;
    min-height: 104px;
    background-color: #29e;
    color: white;
    border-radius: 5px;
    padding: 4%;
    visibility: collapse; /* Makes window disappear */
    box-sizing: border-box;
    -webkit-transform: translate(0px, 0px);
            transform: translate(0px, 0px);   
}
.dock {
    position: fixed;
    border-radius: 15px;
    text-align: center;
    width: 75%;
    height: 100px;
    background-color: rgba(255, 255, 255, 0.4);
    -webkit-backdrop-filter: blur(10px); /* Safari */
    backdrop-filter: blur(10px); /* Other Browsers */
    border: rgba(214, 214, 214, 0.28) solid 1px;
}
dock {
    height: calc(200% - 110px);
    width: 100%;
    align-items: center;
    display: flex;
    justify-content: center;
}
#topbar {
    text-align: left;
    width: 100%;
    height: 25px;
    background-color: rgba(255, 255, 255, 0.25);
    -webkit-backdrop-filter: blur(100px); /* Safari */
    backdrop-filter: blur(10px); /* Other Browsers */ 
    z-index: 0;
}
#currentTimeHourMinSec {
    font-size: 100px;
    height: 100%;
    color: white;
    position: absolute;
    width: 100%;
    align-items: center;
    display: flex;
    justify-content: center;
}
#homeIcon {
    width: 25px;
    height: auto;
    filter: invert(1);
}
#systemDropdown {
    width: 100px;
    position: absolute;
}
#topbarContainer {
    margin: 0;
}
</style>

<div id="topbarContainer">
    <div id="topbar">
        <select id="systemDropdown" onchange="systemDropdownInterpreter()">
            <option value="none" id="none"> </option>
            <option value="shutdown" id="shutdown">Shutdown</option>
            <option value="sleep" id="sleep">Sleep</option>
            <option value="restart" id="restart">Restart</option>
        </select>
        <img id="homeIcon" src="media/Icons/UviteIcon.svg">
    </div>
</div>

<body>

    <div id="currentTimeHourMinSec"> </div>
    <div id="drag-1" class="resize-drag window">
        <button onclick="makeFullScreen();">Open Fullscreen</button>
    </div>

    <div id="drag-2" class="resize-drag window">
        <button onclick="makeFullScreen();">Open Fullscreen</button>
        <a href="testing.html" target="_blank">testing.html</a>
    </div>

    <div id="drag-3" class="resize-drag window">
        <button onclick="makeFullScreen();">Open Fullscreen</button>
    </div>

</body>

<!--RESIZE-->
<script>
interact('.resize-drag')
  .resizable({
    // resize from all edges and corners
    edges: { left: true, right: true, bottom: true, top: true },

    listeners: {
      move (event) {
        var target = event.target
        var x = (parseFloat(target.getAttribute('data-x')) || 0)
        var y = (parseFloat(target.getAttribute('data-y')) || 0)

        // update the element's style
        target.style.width = event.rect.width + 'px'
        target.style.height = event.rect.height + 'px'
        // translate when resizing from top or left edges
        x += event.deltaRect.left
        y += event.deltaRect.top
        target.style.webkitTransform = target.style.transform =
          'translate(' + x + 'px,' + y + 'px)'

        target.setAttribute('data-x', x)
        target.setAttribute('data-y', y)
      }
    },
    modifiers: [
      // minimum size
      interact.modifiers.restrictSize({
        min: { width: 100, height: 50 }
      })
    ],
  })
  .draggable({
    listeners: { move: window.dragMoveListener },
  })
</script>

<script>
    function systemDropdownInterpreter() {
        var option = document.getElementById("systemDropdown");
        var optionParsed = option.options[systemDropdown.selectedIndex].text
        if (optionParsed == "Shutdown") {
            alert("Shutdown")
        }
        else if (optionParsed == "Restart") {
            alert("Restart")
        }
        else if (optionParsed == "Sleep") {
            alert("Sleep")
        }
    }  
</script>


<!--CLOCK SCRIPT-->
<script>
    function getTime() {
        var get = new Date();
        currentTimeHourMinSec = get.getHours() + ':' + get.getMinutes() + ":" + get.getSeconds();
        document.getElementById('currentTimeHourMinSec').innerHTML = currentTimeHourMinSec;
        setTimeout(getTime, 100);
    }
    getTime();
</script>


















<dock>
    <div class="dock"></div>
</dock>
</html>